{% extends 'nagifront/layout.html' %}

{% load staticfiles %}
{% block stylesheets %}
<link rel="stylesheet" text="text/css" href="{% static "nagifront/css/dashboard.css"%}">
{% endblock %}

{% block main %}
<main ng-controller="dashboard">
  <section id="search-widget">
    <span>상세 검색</span>
    <select>
      <option>Host</option>
      <option>Host Group</option>
    </select>
    <input><!--
    --><button></button>
  </section>
  <section id="dashboard">
    <span id="dashboard-modify" ng-hide="is_modify_setting" ng-click="modify_enable()">대쉬보드 설정</span>
    <div class="widgets" overall-host></div>
    <div id="widgets" ng-class="{ modify: is_modify_setting }">
    </div>
  </section>
  <section id="widgets-list-wrapper" ng-cloak ng-show="is_modify_setting">
    <header>
      <h3>위젯 설정</h3>
      <p>드래그해서<br>원하는 위치에 놓으세요</p>
    </header>
    <div>
      <ul>
        {% verbatim %}
        <li class="new-widget" ng-repeat="widget in widget_list" data-drag="true" data-jqyoui-options="{helper: 'clone'}" ng-model="widget_list" jqyoui-draggable="{index: {{$index}}, placeholder: 'keep', onStart: 'load_widget'}">
          {{ widget_name_map[widget.name] }}
        </li>
        {% endverbatim %}
      </ul>
    </div>
    <footer>
      <img id="delete-widget" ng-class="{ enable: delete_enable }" ng-click="toggle_delete()" src="{% static "nagifront/img/delete.png" %}" alt="delete" width="30px">
      <span ng-show="delete_enable">삭제모드</span>
      <button ng-click="cancel()">취소</button>
      <button ng-click="save()">저장</button>
    </footer>
  </section>
</main>
{% endblock %}

{% block scripts %}
<script src="{% static 'nagifront/js/dashboard.js' %}"></script>
{% endblock %}
